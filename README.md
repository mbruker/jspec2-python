# Python JSPEC2 Lib

## Announcement

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

## About this code

This code allows users to use JSPEC2 for computations and simulations on the electron cooling and the intrabeam scattering effect for charged particle beams in Python. 

This code is developed  using the C++ jspec program (<https://github.com/zhanghe9704/jspec2) and pybind11 (<https://github.com/pybind/pybind11>). 

## How to compile 

Here I will show you how to compile and use the code in Ubuntu. The following command are tested in Ubuntu 18.04. 

To compile the codes, you will need a C++ compiler that supports C++ 14 standard, make, python3 and pybind11.  If you do not have the above programs in your system, you can install them using the following commands. 

```
sudo apt install build-essential 
sudo apt install python3 python3-dev python3-pip  
pip3 install pybind11 
```



(Note: pybind11 works with python2.7, too. So in principle you can compile the code for python 2.7 and use the lib in python 2.7. However, I have not tried it. )

JSPEC2 needs muParser and the GSL library. A shared library that runs in Ubuntu 18.04 of the muParser is provided in the JSPEC2 repository. If your system does not have GSL, it can be installed as follows:



```
sudo apt-get install libgsl-dev
```



A makefile is provided and one can compile the codes using  the command "make". Assume I have  cloned or downloaded the codes to the following folder:

**$HOME/jspec2-python**

I should see the "Makefile" inside the folder. Just run

```make```

The following lib is generated: 

**jspec.cpython-36m-x86_64-linux-gnu.so**

The part after "jspec" is generated by the following command

`python3-config --extension-suffix`

So it may be different in your system. 



## Use the lib in python3

To use the shared lib in python3, put it in a directory that python3 can find. Start python3 by

`python3`

In side python, load the lib by

`>>> import jspec`